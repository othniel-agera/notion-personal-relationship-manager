{"version":3,"file":"use.js","sourceRoot":"","sources":["../../../src/controllers/decorators/use.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,4BAA0B;AAE1B,+CAA8C;AAE9C,SAAgB,GAAG,CAAC,UAA0B;IAC7C,OAAO,UAAS,MAAW,EAAE,GAAW,EAAE,IAAwB;QACjE,IAAM,WAAW,GAAG,OAAO,CAAC,WAAW,CACtC,2BAAY,CAAC,UAAU,EACvB,MAAM,EACN,GAAG,CACH,IAAI,EAAE,CAAC;QAER,OAAO,CAAC,cAAc,CACrB,2BAAY,CAAC,UAAU,yCACnB,WAAW,YAAE,UAAU,WAC3B,MAAM,EACN,GAAG,CACH,CAAC;IACH,CAAC,CAAA;AACF,CAAC;AAfD,kBAeC","sourcesContent":["import 'reflect-metadata';\nimport { RequestHandler } from 'express';\nimport { MetadataKeys } from './MetadataKeys';\n\nexport function use(middleware: RequestHandler) {\n\treturn function(target: any, key: string, desc: PropertyDescriptor) {\n\t\tconst middlewares = Reflect.getMetadata(\n\t\t\tMetadataKeys.middleware,\n\t\t\ttarget,\n\t\t\tkey\n\t\t) || [];\n\n\t\tReflect.defineMetadata(\n\t\t\tMetadataKeys.middleware,\n\t\t\t[...middlewares, middleware],\n\t\t\ttarget,\n\t\t\tkey\n\t\t);\n\t}\n}"]}