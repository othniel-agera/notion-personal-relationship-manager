{"version":3,"file":"product.spec.js","sourceRoot":"","sources":["../../src/test/product.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import { app, request, expect, ProductModel, url } from \"./common.spec\";\n\ndescribe(\"/api\", () => {\n  //So Id add authentication and try to signin before all the request and send the\n  //token and be authenticated\n  beforeEach(async () => {});\n  describe(\"GET /products\", () => {\n    it(\"should return all products\", async function () {\n      this.timeout(100000);\n      //Its sending the data but its coming late because I think the data are so much that\n      //it is taking a very long time.\n      const res = await request(app).get(\"/api/products\");\n      expect(res.status).to.equal(200);\n      expect(res.body.data.length).not.equal(0);\n    });\n  });\n  describe(\"GET /products/search?\", () => {\n    it(\"should return all products that match both the search parameters\", async function () {\n      this.timeout(100000);\n      const path = url.format({\n        pathname: `/api/products/search`,\n        query: {\n          description: \"PTP SER EMC CABLE GLAND (GROUNDING) Qty. 10\",\n          pathnumber: \"WB1811B\",\n          func: \"and\",\n        },\n      });\n      const res = await request(app).get(path);\n      expect(res.status).to.equal(200);\n      expect(res.body.data.length).not.equal(0);\n    });\n    it(\"should return all products that match either of the search parameters\", async function () {\n      this.timeout(100000);\n      const path = url.format({\n        pathname: `/api/products/search`,\n        query: {\n          description: \"Mounting Bracket (integrated)\",\n          pathnumber: \"WB1811B\",\n          func: \"or\",\n        },\n      });\n      const res = await request(app).get(path);\n      expect(res.status).to.equal(200);\n      expect(res.body.data.length).not.equal(0);\n    });\n    it(\"should return all products that match the search parameter Path number\", async function () {\n      this.timeout(100000);\n      const path = url.format({\n        pathname: `/api/products/search`,\n        query: {\n          pathnumber: \"N000065L033A\",\n        },\n      });\n      const res = await request(app).get(path);\n      expect(res.status).to.equal(200);\n      expect(res.body.data.length).not.equal(0);\n    });\n    it(\"should return all products that match the search parameter description\", async function () {\n      this.timeout(100000);\n      const path = url.format({\n        pathname: `/api/products/search`,\n        query: {\n          description:\n            \"RFU-A Branching Drawer 1+1 SD Tx-L Sampler+Coupler, 6L-252A-3W6\",\n        },\n      });\n      const res = await request(app).get(path);\n      expect(res.status).to.equal(200);\n      expect(res.body.data.length).not.equal(0);\n    });\n    it(\"should return 404\", async function () {\n      this.timeout(100000);\n      const path = url.format({\n        pathname: `/api/products/search`,\n        query: {\n          name: \"\",\n        },\n      });\n      const res = await request(app).get(path);\n      expect(res.status).to.equal(404);\n      expect(res.body.data.message).equal(\"No Product\");\n    });\n  });\n  describe(\"GET /product\", () => {\n    it(\"should return products by id\", async function () {\n      const id = \"recGG8Eb9SOrHv7sH\";\n      const res = await request(app).get(`/api/product/${id}`);\n      const { data } = res.body;\n      expect(res.status).to.equal(200);\n      expect(data).to.have.property(\"PartNumber\", \"C060082R118A\");\n      expect(data).to.have.property(\n        \"Description\",\n        \"PTP 820 RFU-C,6HGHz,TR340B,Ch5W8,Lo,6581-6739MHz\"\n      );\n    });\n    it(\"should say not found\", async function () {\n      const id = \"recGG8Eb9SOrHv7sHsss\";\n      const res = await request(app).get(`/api/product/${id}`);\n      expect(res.status).to.equal(404);\n    });\n  });\n});\n// ◢ ◤\n"]}